define([],function(){var e=function(e){var t=this;this.details=e=e||{},this.imageSrc=this.details.imageSrc,this.stageRect=this.details.stageRect||{x:0,y:0,width:$(window).width(),height:$(window).height()},this.levelExplaination=this.details.levelExplaination||null,this.levels=this.details.levels||null,this.currentLevelIndex=0;var n=this.stageRect.width,r=this.stageRect.height,i=$("<div>");i[0].style.opacity="0.5",$("#gameDiv").append(i);var s=null;if(typeof this.imageSrc=="string")s=new Image,s.src=this.imageSrc;else{s=this.imageSrc;if(s===undefined)throw"Startup: unable to resolve image"}s.width=n*.8,s.height=r*.5,i.append($(s)),i.append($("<br>"));var o=$("<div>");i.append(o),o.css({fontSize:15,fontFamily:"Arial"}),o.css("color","black"),o.css("backgroundColor","yellow"),o.addClass("newline"),o.text(this.levelExplaination[0]),i.append($("<br>"));var u=$("<button>");i.append(u),u.css({fontFamily:"Segoe Script"}),u.css("color","yellow"),u.css("backgroundColor","blue"),u.text("Start"),i.css({top:r*.1+this.stageRect.y,left:n*.14+this.stageRect.x,position:"absolute"});var a;this.levels.length&&(a=$("<select>"));for(var f=0;f<this.levels.length;++f){var l=$("<option>");l.css({fontFamily:"Segoe Script"}),l.text(this.levels[f]),a.append(l)}a.css("height",u.height()),a.css({bottom:0,right:0,position:"absolute"}),a.css({fontSize:20,fontFamily:"Segoe Script"}),i.append(a),a.on("change",function(){var e=t.levels.indexOf(this.value);o.text(t.levelExplaination[e]),t.currentLevelIndex=e,$(window).trigger("gameLevelChanged",e)}),u.on("click",function(){i.hide(),e.startGame&&e.startGame()}),this.show=function(){i.show()},this.hide=function(){i.hide()}};return e});